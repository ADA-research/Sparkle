#!/bin/env python3 

import sys
from pathlib import Path

# Adding parent directory to get access to the sparkle module
# May be removed when spakle is installed system-wide
sys.path.insert(0, str(Path(__file__).parent.parent.absolute()))

# Main parser
from sparkle.cli.mainparser import MainParser

# Subcommands
from sparkle.cli.compute import Compute
from sparkle.cli.instance import Instance

if __name__ == "__main__":
    mainparser = MainParser(
        subparsers=[
            Compute(), 
            Instance(),
        ],
    )

    args = mainparser.parse_args()

    if args.command is None:
        # no command, print help
        mainparser.print_help()
    else:
        mainparser.dispatch(args)
